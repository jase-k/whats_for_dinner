{% extends 'dashboard.html' %}
{% block content %}
<h2>Add a Recipe</h2>

<form action="/add_recipe/new" method="POST">
    <input type="hidden" name='user_id' value="{{user.id}}">
    <div class="form_row">
        <label for="title">Recipe Title: </label>
        <input type="text" id="title" name="title">
    {% for category, message in messages %}
        {% if category == 'title' %}
            <p class="flash_warning">
                {{message}}
            </p>
        {% endif %}
    {% endfor %}
    </div>

    <div class="form_row">
        <label for="description">Description: </label>
        <textarea id="description" name="description">

        </textarea>
    {% for category, message in messages %}
        {% if category == 'description' %}
            <p class="flash_warning">
                {{message}}
            </p>
        {% endif %}
    {% endfor %}
    </div>

    <div class="form_row">
        <label for="ingredients">Ingredients: </label>
        <input type="text" id="ingredients" name="ingredients">
        <button id="search_ingredients" type="button">Search!</button>

        <ul id = 'ingredient_search_results'>
            <li class='search_result' value='1'>Name</li>
            <li class='search_result' value='2'>Name 2</li>
        </ul>
<!-- Incoroporate API to look up ingredients and add to list -->
    {% for category, message in messages %}
        {% if category == 'ingredients' %}
            <p class="flash_warning">
                {{message}}
            </p>
        {% endif %}
    {% endfor %}
    </div>
    


    <div class="form_row">
        <label for="instructions">Instructions: </label>
        <textarea id="instrucitons" name="instructions">

        </textarea>
        {% for category, message in messages %}
        {% if category == 'instrucitons' %}
            <p class="flash_warning">
                {{message}}
            </p>
        {% endif %}
    {% endfor %}
    </div>

    <div class="form_row">
        <p>Is this a Premium Recipe?</p>
        <label for="premium_true">True</label>
        <input type="radio" value="True" name="premium" id="premium_true" class="radio">
        <label for="premium_false">False</label>
        <input type="radio" value="False" name="premium" id="premium_false" class="radio">
    </div>

    <div class="form_row"><button type="submit" id="submit">Save Recipe!</button></div>
</form>
<div id= 'recipe_ingredients'>
    <table>
        <thead>
            <tr>
                <th>Quantity</th>
                <th>Ingredient</th>
                <th class="hidden">Hidden</th>
            </tr>
        </thead>
        <tbody id='table_body'>
            <tr>
                <td>1</td>
                <td>Apple</td>
                <td class="hidden">id</td>
            </tr>
        </tbody>
    </table>
</div>
<script src="{{url_for('static', filename='js/ingredients.js')}}"></script>
{% endblock %}